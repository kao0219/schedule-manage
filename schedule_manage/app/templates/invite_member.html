{% extends 'base.html' %}
{% block content %}

<style>
    .invite-member-wrapper {  
        max-width: 600px;
        margin: 40px auto;
        padding: 30px;
        text-align: center;
        font-family: sans-serif;
    }

    .invite-member-info {
        border: 1px solid #aaa;
        padding: 15px;
        margin-bottom: 20px;
        text-align: left;
        word-wrap: break-word;
        border-radius: 10px;
    }

    .invite-member-url {
        width: 550px;
        padding: 10px;
        margin-top: 10px;
    }

    .invite-member-button {
        padding: 10px 40px;
        font-weight: bold;
        margin: 10px 10;
        border-radius: 10px;
    }

    button.invite-member-button:hover {
        background-color: #e0e0e0;  
        color: white;
        cursor: pointer;
    }

    .invite-member-link {
        margin-top: 25px;
        display: block;
    }
    
    a.invite-member-link:hover {
        color: #333333;  
        text-decoration: underline;
        cursor: pointer;
    }

    .copy-wrapper {
        position: relative;
        display: inline-block;
        width: 550px;
        margin-top: 10px;
    }

    .invite-member-url-with-btn {
        width: 100%;
        padding: 10px 50px 10px 10px;  /* å³ã«ãƒœã‚¿ãƒ³ãŒæ¥ã‚‹ä½™ç™½ã‚’ã¨ã‚‹ */
        border: 1px solid #aaa;
        border-radius: 10px;
        font-size: 14px;
        box-sizing: border-box;
    }

    .copy-btn {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        border: none;
        background: transparent;
        font-size: 18px;
        cursor: pointer;
    }

    .copy-message {
        display: none;
        color: #0000FF;
        margin-top: 8px;
        text-align: center;
    }

    .copy-btn:hover {
        background-color: #f0f0f0;
        color: #007BFF;
        border-radius: 4px;
    }

    @media (max-width: 768px) {
      .invite-member-wrapper {
        padding-top: 60px;
        margin: 60px 10px;
      }

      .invite-member-info {
        font-size: 14px;
      }

      .invite-member-url {
        width: 85%;
      }

      .invite-member-button {
        width: 85%;
        max-width: 250px;
        padding: 10px;
      }
    }
</style>

<div class="invite-member-wrapper"> 
  <h2>å®¶æ—æ‹›å¾…URLç”»é¢</h2>

  <div class="invite-member-info">
    <strong>åˆ©ç”¨æ–¹æ³•ï¼š</strong><br>
      ä½œæˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ãƒªãƒ³ã‚¯å…ˆURLã‚’è¡¨ç¤º<br>
      æ‹›å¾…ã—ãŸã„å®¶æ—ã«ãƒªãƒ³ã‚¯å…ˆã‚’å…±æœ‰ã—ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç™»éŒ²ã—ã¦ã‚‚ã‚‰ã†ã€‚<br>
      â€»ç™ºè¡Œã•ã‚ŒãŸURLã¯ä¸€åº¦åˆ©ç”¨ã™ã‚‹ã¨å¤±åŠ¹ã—ã¾ã™ã€‚
  </div>

  <form method="POST">
    {% csrf_token %}
    <button type="submit" class="invite-member-button">å®¶æ—æ‹›å¾…URLã‚’ä½œæˆã™ã‚‹</button>
  </form>

  {% if invite_url %}
    <div class="copy-wrapper">
      <input type="text" value="{{ invite_url }}" readonly id="invite-url" class="invite-member-url-with-btn">
      <button class="copy-btn" onclick="copyToClipboard()" title="ã‚³ãƒ”ãƒ¼ã™ã‚‹">ğŸ“‹</button>
    </div>
    <p id="copy-message" class="copy-message">URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ</p>
  {% endif %}

  <a href="{% url 'app:settings' %}" class="invite-member-link">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</a>   
</div> 

<script>
function copyToClipboard() {
  const input = document.getElementById("invite-url");
  input.select();
  document.execCommand("copy");

  const msg = document.getElementById("copy-message");
  msg.style.display = "block";
  setTimeout(() => {
    msg.style.display = "none";
  }, 2000);  
}
</script>

{% endblock %}